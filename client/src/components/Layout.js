import React, { useContext } from 'react';
import { observer } from "mobx-react-lite";
import { Context } from "../index";
import { Outlet, useNavigate } from "react-router-dom";

import { LOGIN_ROUTE } from "../utils/consts";
import NavLinkMenu from "./NavLinkMenu";
import NavLinkLogout from "./NavLinkLogout";


function getRole(role) {
    if (role === 'driver') return 'Водитель'
    if (role === 'manager') return 'Менеджер'
    if (role === 'admin') return 'Администратор'

}
function getLitName(name) {
    const arr = name.split(" ");
    return arr[1] + " " + arr[0].slice(0, 1) + ".";
}

const Layout = observer(() => {
    const { user } = useContext(Context);
    const navigate = useNavigate()
    const logOut = () => {
        const confirmLogout = window.confirm("Вы уверены, что хотите выйти из системы?");
        if (confirmLogout) {
            user.setUser({})
            user.setIsAuth(false)
            localStorage.removeItem('token')
            navigate('/' + LOGIN_ROUTE)
        }
    }
    const stylesLogo = user.user?.permissions?.role === 'admin' ? { justifyContent: 'center' } : {}

    return (
        user.isAuth
            ?
            <div className='container-t'>
                <div className='sidebar'>
                    <div className='logo' style={{ ...stylesLogo }}>
                        <>
                            <img src="https://mysterio-dev.github.io/oilcontinent-2/img/icons/logo.svg" alt="logo" />
                            <span>ОйлКонтинент</span>
                        </>
                    </div>
                    <nav>
                        <div style={
                            {
                                display: "flex",
                                alignItems: "center",
                                padding: "0px 13px",
                                gap: "0.1rem",
                                marginBottom: "8px"
                            }
                        }>

                            <span
                                style={{
                                    fontWeight: "500",

                                }}
                            >{getLitName(user.user.name)}</span>
                            <span
                                style={{
                                    fontSize: "12px",
                                    background: "#ff7300",
                                    color: "white",
                                    padding: "4px 8px",

                                    borderRadius: "16px"

                                }}>
                                {getRole(user.user.permissions.role)}
                            </span>

                        </div>
                        {
                            <>
                                {user.user.permissions?.role === 'admin'
                                    && (
                                        <ul className="sidebar__navbar-list">
                                            <NavLinkMenu link='admin'>
                                                <svg width="30" height="30" viewBox="0 0 55 55" xmlns="http://www.w3.org/2000/svg"><path d="M40.5,18.5l3.3-.4A7.5,7.5,0,0,0,44,16a7.5,7.5,0,0,0-.2-2.1l-3.3-.4-.9-.2L39,11.9l.5-.8,2-2.7a13.3,13.3,0,0,0-2.9-2.9l-2.7,2-.8.5-1.4-.6-.2-.9-.4-3.3A7.5,7.5,0,0,0,31,3a7.5,7.5,0,0,0-2.1.2l-.4,3.3-.2.9L26.9,8l-.8-.5-2.7-2a13.3,13.3,0,0,0-2.9,2.9l2,2.7.5.8-.6,1.4-.9.2-3.3.4A7.5,7.5,0,0,0,18,16a7.5,7.5,0,0,0,.2,2.1l3.3.4.9.2.6,1.4-.5.8-2,2.7a13.3,13.3,0,0,0,2.9,2.9l2.7-2,.8-.5,1.4.6.2.9.4,3.3A7.5,7.5,0,0,0,31,29a7.5,7.5,0,0,0,2.1-.2l.4-3.3.2-.9,1.4-.6.8.5,2.7,2a13.3,13.3,0,0,0,2.9-2.9l-2-2.7-.5-.8.6-1.4ZM31,20a4,4,0,1,1,4-4A4,4,0,0,1,31,20ZM6,31H18a2,2,0,0,1,2,2V43a2,2,0,0,1-2,2H6a2,2,0,0,1-2-2V33A2,2,0,0,1,6,31Zm0-4H16a1.1,1.1,0,0,0,1-1.2.6.6,0,0,0-.1-.4,16.7,16.7,0,0,1,0-18.8,1.1,1.1,0,0,0-.5-1.5H6A2,2,0,0,0,4,7V25A2,2,0,0,0,6,27Zm32.6,4.2A17,17,0,0,1,31,33a15.9,15.9,0,0,1-5.7-1,1,1,0,0,0-1.3.7V43a2,2,0,0,0,2,2H38a2,2,0,0,0,2-2V32.1a1,1,0,0,0-1-1Z" /></svg>
                                                <span>Админ панель</span>
                                            </NavLinkMenu>
                                            <NavLinkMenu link='pprcosts'>
                                                <svg height="30" width="30" viewBox="0 0 512 512"><path className="st0" d="M485.395,158.609c-7.296-8.514-12.122-13.426-20.826-22.348c-27.93-28.573-53.191-53.843-53.218-53.869l-12.591-12.6l-17.435,17.026l36.061,54.731l0.374,0.765c0.191,0.591,0.374,1.566,0.374,2.826c0.052,2.704-0.974,6.609-2.479,9.313l-3.165,5.826c-3.661,6.756-5.713,21.113-5.705,28.574c-0.008,7.182,1.696,14.4,5.114,20.982l6.235,12.026c7.295,14.07,21.347,23.148,36.991,24.348l3,0.939c0,39.574,0,88.904,0,126.835c-0.052,11.043-3.296,17.617-6.888,21.635c-3.652,3.991-7.965,5.634-11.913,5.644c-3.826-0.07-7.217-1.348-10.417-4.948c-3.13-3.617-6.365-10.295-6.4-22.33c0-35.618,0-44.522,0-66.783c-0.009-7.113-1.436-14.156-4.044-20.974c-3.93-10.191-10.601-20-20.348-27.582c-9.678-7.583-22.678-12.592-37.226-12.539c-1.704,0-3.425,0.096-5.164,0.226V47.956C355.726,21.469,334.256,0,307.769,0H97.378C70.891,0,49.422,21.469,49.422,47.956v406.166H18.256V512h368.634v-57.878h-31.165V282.174c1.843-0.27,3.6-0.452,5.164-0.452c4.496,0.017,8.01,0.93,11.096,2.4c4.592,2.192,8.374,5.896,11.026,10.348c2.67,4.382,3.922,9.461,3.879,12.73c0,22.261,0,31.165,0,66.783c-0.035,18.556,5.312,34.417,15.13,45.695c9.739,11.305,23.66,17.279,37.304,17.209c14.183,0.008,28.174-6.165,38.296-17.339c10.174-11.165,16.174-27.148,16.122-45.565c0-57.878,0-150.261,0-185.878C493.743,171.409,492.074,166.4,485.395,158.609z M284.491,227.061H120.656V71.235h163.834V227.061z M458.126,212.009c0,2.808-1.609,4.122-3.896,4.078c-4.304-0.07-11.009-1-13.913-5.722c-5.191-8.435-12.183-24.87-4.609-37.756c0.808-1.374,2.574-3.583,5.722-1.478l10.13,9.304c4.182,3.826,6.565,9.226,6.565,14.895C458.126,195.33,458.126,209.2,458.126,212.009z" /></svg>
                                                <span>Закрепленные АЗС</span>
                                            </NavLinkMenu>
                                            <NavLinkMenu link='registration'>
                                                <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 20V19C4 16.2386 6.23858 14 9 14H12.75M17.5355 13.9645V17.5M17.5355 17.5V21.0355M17.5355 17.5H21.0711M17.5355 17.5H14M15 7C15 9.20914 13.2091 11 11 11C8.79086 11 7 9.20914 7 7C7 4.79086 8.79086 3 11 3C13.2091 3 15 4.79086 15 7Z" stroke="#000000" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" /></svg>
                                                <span>Новый пользователь</span>
                                            </NavLinkMenu>
                                            <NavLinkMenu link='users'>
                                                <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 20V19C4 16.2386 6.23858 14 9 14H12.75M17.5355 13.9645V17.5M17.5355 17.5V21.0355M17.5355 17.5H21.0711M17.5355 17.5H14M15 7C15 9.20914 13.2091 11 11 11C8.79086 11 7 9.20914 7 7C7 4.79086 8.79086 3 11 3C13.2091 3 15 4.79086 15 7Z" stroke="#000000" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" /></svg>
                                                <span>Пользователи</span>
                                            </NavLinkMenu>
                                            <NavLinkMenu link='transactionsAll'>
                                                <svg width="30" height="30" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.46656 3.49889C9.28412 3.42591 9.0806 3.42591 8.89816 3.49888L3.59052 5.62194L8.89816 7.745C9.0806 7.81798 9.28412 7.81798 9.46656 7.745L14.7742 5.62194L9.46656 3.49889ZM3.02212 4.20095L8.32976 2.07789C8.87708 1.85896 9.48764 1.85896 10.035 2.07789L15.3426 4.20095C16.6253 4.71405 16.6253 6.52984 15.3426 7.04294L10.035 9.16599C9.48764 9.38492 8.87708 9.38492 8.32976 9.16599L3.02212 7.04294C1.73937 6.52984 1.73937 4.71405 3.02212 4.20095ZM2.35003 9.77606C2.50699 9.38366 2.95233 9.1928 3.34473 9.34976L9.18236 11.6848L15.02 9.34976C15.4124 9.1928 15.8577 9.38366 16.0147 9.77606C16.1716 10.1685 15.9808 10.6138 15.5884 10.7708L9.75076 13.1058C9.38588 13.2518 8.97884 13.2518 8.61396 13.1058L2.77633 10.7708C2.38394 10.6138 2.19308 10.1685 2.35003 9.77606ZM3.34473 13.329C2.95233 13.172 2.50699 13.3629 2.35003 13.7553C2.19308 14.1477 2.38394 14.593 2.77633 14.75L8.61396 17.085C8.97884 17.231 9.38588 17.231 9.75076 17.085L15.5884 14.75C15.9808 14.593 16.1716 14.1477 16.0147 13.7553C15.8577 13.3629 15.4124 13.172 15.02 13.329L9.18236 15.664L3.34473 13.329Z" fill="black"></path></svg>
                                                <span>Транзакции</span>
                                            </NavLinkMenu>
                                            <NavLinkMenu link='cardsAll'>
                                                <svg width="30" height="30" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.46656 3.49889C9.28412 3.42591 9.0806 3.42591 8.89816 3.49888L3.59052 5.62194L8.89816 7.745C9.0806 7.81798 9.28412 7.81798 9.46656 7.745L14.7742 5.62194L9.46656 3.49889ZM3.02212 4.20095L8.32976 2.07789C8.87708 1.85896 9.48764 1.85896 10.035 2.07789L15.3426 4.20095C16.6253 4.71405 16.6253 6.52984 15.3426 7.04294L10.035 9.16599C9.48764 9.38492 8.87708 9.38492 8.32976 9.16599L3.02212 7.04294C1.73937 6.52984 1.73937 4.71405 3.02212 4.20095ZM2.35003 9.77606C2.50699 9.38366 2.95233 9.1928 3.34473 9.34976L9.18236 11.6848L15.02 9.34976C15.4124 9.1928 15.8577 9.38366 16.0147 9.77606C16.1716 10.1685 15.9808 10.6138 15.5884 10.7708L9.75076 13.1058C9.38588 13.2518 8.97884 13.2518 8.61396 13.1058L2.77633 10.7708C2.38394 10.6138 2.19308 10.1685 2.35003 9.77606ZM3.34473 13.329C2.95233 13.172 2.50699 13.3629 2.35003 13.7553C2.19308 14.1477 2.38394 14.593 2.77633 14.75L8.61396 17.085C8.97884 17.231 9.38588 17.231 9.75076 17.085L15.5884 14.75C15.9808 14.593 16.1716 14.1477 16.0147 13.7553C15.8577 13.3629 15.4124 13.172 15.02 13.329L9.18236 15.664L3.34473 13.329Z" fill="black"></path></svg>
                                                <span>Карты</span>
                                            </NavLinkMenu>
                                            <NavLinkLogout link='#' onClick={logOut}>
                                                <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.2929 14.2929C16.9024 14.6834 16.9024 15.3166 17.2929 15.7071C17.6834 16.0976 18.3166 16.0976 18.7071 15.7071L21.6201 12.7941C21.6351 12.7791 21.6497 12.7637 21.6637 12.748C21.87 12.5648 22 12.2976 22 12C22 11.7024 21.87 11.4352 21.6637 11.252C21.6497 11.2363 21.6351 11.2209 21.6201 11.2059L18.7071 8.29289C18.3166 7.90237 17.6834 7.90237 17.2929 8.29289C16.9024 8.68342 16.9024 9.31658 17.2929 9.70711L18.5858 11H13C12.4477 11 12 11.4477 12 12C12 12.5523 12.4477 13 13 13H18.5858L17.2929 14.2929Z" fill="#323232" /><path d="M5 2C3.34315 2 2 3.34315 2 5V19C2 20.6569 3.34315 22 5 22H14.5C15.8807 22 17 20.8807 17 19.5V16.7326C16.8519 16.647 16.7125 16.5409 16.5858 16.4142C15.9314 15.7598 15.8253 14.7649 16.2674 14H13C11.8954 14 11 13.1046 11 12C11 10.8954 11.8954 10 13 10H16.2674C15.8253 9.23514 15.9314 8.24015 16.5858 7.58579C16.7125 7.4591 16.8519 7.35296 17 7.26738V4.5C17 3.11929 15.8807 2 14.5 2H5Z" fill="#323232" /></svg>
                                                <span>Выход</span>
                                            </NavLinkLogout>
                                        </ul>)
                                }

                                {user.user.permissions?.role === 'manager'
                                    && (
                                        <ul className="sidebar__navbar-list">
                                            <NavLinkMenu link={'/'}>
                                                <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.78353 2.28848C9.02849 2.13878 9.33663 2.13878 9.58159 2.28848L14.9382 5.56196C15.1657 5.70097 15.3044 5.94834 15.3044 6.21492V14.5393C15.3044 14.9619 14.9618 15.3046 14.5392 15.3046H12.2435V10.7132C12.2435 9.44531 11.2157 8.4175 9.94779 8.4175H8.41733C7.14946 8.4175 6.12164 9.44531 6.12164 10.7132V15.3046H3.82596C3.40333 15.3046 3.06073 14.9619 3.06073 14.5393V6.21492C3.06073 5.94834 3.19946 5.70097 3.42693 5.56196L8.78353 2.28848ZM7.6521 15.3046V10.7132C7.6521 10.2906 7.99471 9.94795 8.41733 9.94795H9.94779C10.3704 9.94795 10.713 10.2906 10.713 10.7132V15.3046H7.6521ZM11.4782 16.835H14.5392C15.807 16.835 16.8348 15.8072 16.8348 14.5393V6.21492C16.8348 5.41518 16.4186 4.67307 15.7362 4.25605L10.3796 0.982571C9.64477 0.533479 8.72035 0.533479 7.98547 0.982571L2.62887 4.25605C1.94647 4.67307 1.53027 5.41518 1.53027 6.21492V14.5393C1.53027 15.8072 2.55809 16.835 3.82596 16.835H6.88687H11.4782Z" fill="black"></path></svg>
                                                <span>Главная</span>
                                            </NavLinkMenu>
                                            <NavLinkMenu link='pprcosts/manager'>
                                                <svg height="30" width="30" viewBox="0 0 512 512"><path className="st0" d="M485.395,158.609c-7.296-8.514-12.122-13.426-20.826-22.348c-27.93-28.573-53.191-53.843-53.218-53.869l-12.591-12.6l-17.435,17.026l36.061,54.731l0.374,0.765c0.191,0.591,0.374,1.566,0.374,2.826c0.052,2.704-0.974,6.609-2.479,9.313l-3.165,5.826c-3.661,6.756-5.713,21.113-5.705,28.574c-0.008,7.182,1.696,14.4,5.114,20.982l6.235,12.026c7.295,14.07,21.347,23.148,36.991,24.348l3,0.939c0,39.574,0,88.904,0,126.835c-0.052,11.043-3.296,17.617-6.888,21.635c-3.652,3.991-7.965,5.634-11.913,5.644c-3.826-0.07-7.217-1.348-10.417-4.948c-3.13-3.617-6.365-10.295-6.4-22.33c0-35.618,0-44.522,0-66.783c-0.009-7.113-1.436-14.156-4.044-20.974c-3.93-10.191-10.601-20-20.348-27.582c-9.678-7.583-22.678-12.592-37.226-12.539c-1.704,0-3.425,0.096-5.164,0.226V47.956C355.726,21.469,334.256,0,307.769,0H97.378C70.891,0,49.422,21.469,49.422,47.956v406.166H18.256V512h368.634v-57.878h-31.165V282.174c1.843-0.27,3.6-0.452,5.164-0.452c4.496,0.017,8.01,0.93,11.096,2.4c4.592,2.192,8.374,5.896,11.026,10.348c2.67,4.382,3.922,9.461,3.879,12.73c0,22.261,0,31.165,0,66.783c-0.035,18.556,5.312,34.417,15.13,45.695c9.739,11.305,23.66,17.279,37.304,17.209c14.183,0.008,28.174-6.165,38.296-17.339c10.174-11.165,16.174-27.148,16.122-45.565c0-57.878,0-150.261,0-185.878C493.743,171.409,492.074,166.4,485.395,158.609z M284.491,227.061H120.656V71.235h163.834V227.061z M458.126,212.009c0,2.808-1.609,4.122-3.896,4.078c-4.304-0.07-11.009-1-13.913-5.722c-5.191-8.435-12.183-24.87-4.609-37.756c0.808-1.374,2.574-3.583,5.722-1.478l10.13,9.304c4.182,3.826,6.565,9.226,6.565,14.895C458.126,195.33,458.126,209.2,458.126,212.009z" /></svg>
                                                <span>Закрепленные АЗС</span>
                                            </NavLinkMenu>
                                            <NavLinkMenu link='registration'>
                                                <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 20V19C4 16.2386 6.23858 14 9 14H12.75M17.5355 13.9645V17.5M17.5355 17.5V21.0355M17.5355 17.5H21.0711M17.5355 17.5H14M15 7C15 9.20914 13.2091 11 11 11C8.79086 11 7 9.20914 7 7C7 4.79086 8.79086 3 11 3C13.2091 3 15 4.79086 15 7Z" stroke="#000000" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" /></svg>
                                                <span>Новый водитель</span>
                                            </NavLinkMenu>
                                            <NavLinkMenu link='users/drivers'>
                                                <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M4 20V19C4 16.2386 6.23858 14 9 14H12.75M17.5355 13.9645V17.5M17.5355 17.5V21.0355M17.5355 17.5H21.0711M17.5355 17.5H14M15 7C15 9.20914 13.2091 11 11 11C8.79086 11 7 9.20914 7 7C7 4.79086 8.79086 3 11 3C13.2091 3 15 4.79086 15 7Z" stroke="#000000" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" /></svg>
                                                <span>Водители</span>
                                            </NavLinkMenu>
                                            <NavLinkMenu link='managers-transactions'>
                                                <svg width="30" height="30" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.46656 3.49889C9.28412 3.42591 9.0806 3.42591 8.89816 3.49888L3.59052 5.62194L8.89816 7.745C9.0806 7.81798 9.28412 7.81798 9.46656 7.745L14.7742 5.62194L9.46656 3.49889ZM3.02212 4.20095L8.32976 2.07789C8.87708 1.85896 9.48764 1.85896 10.035 2.07789L15.3426 4.20095C16.6253 4.71405 16.6253 6.52984 15.3426 7.04294L10.035 9.16599C9.48764 9.38492 8.87708 9.38492 8.32976 9.16599L3.02212 7.04294C1.73937 6.52984 1.73937 4.71405 3.02212 4.20095ZM2.35003 9.77606C2.50699 9.38366 2.95233 9.1928 3.34473 9.34976L9.18236 11.6848L15.02 9.34976C15.4124 9.1928 15.8577 9.38366 16.0147 9.77606C16.1716 10.1685 15.9808 10.6138 15.5884 10.7708L9.75076 13.1058C9.38588 13.2518 8.97884 13.2518 8.61396 13.1058L2.77633 10.7708C2.38394 10.6138 2.19308 10.1685 2.35003 9.77606ZM3.34473 13.329C2.95233 13.172 2.50699 13.3629 2.35003 13.7553C2.19308 14.1477 2.38394 14.593 2.77633 14.75L8.61396 17.085C8.97884 17.231 9.38588 17.231 9.75076 17.085L15.5884 14.75C15.9808 14.593 16.1716 14.1477 16.0147 13.7553C15.8577 13.3629 15.4124 13.172 15.02 13.329L9.18236 15.664L3.34473 13.329Z" fill="black"></path></svg>
                                                <span>Транзакции</span>
                                            </NavLinkMenu>
                                            <NavLinkMenu link='drivers-cards'>
                                                <svg width="30" height="30" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.46656 3.49889C9.28412 3.42591 9.0806 3.42591 8.89816 3.49888L3.59052 5.62194L8.89816 7.745C9.0806 7.81798 9.28412 7.81798 9.46656 7.745L14.7742 5.62194L9.46656 3.49889ZM3.02212 4.20095L8.32976 2.07789C8.87708 1.85896 9.48764 1.85896 10.035 2.07789L15.3426 4.20095C16.6253 4.71405 16.6253 6.52984 15.3426 7.04294L10.035 9.16599C9.48764 9.38492 8.87708 9.38492 8.32976 9.16599L3.02212 7.04294C1.73937 6.52984 1.73937 4.71405 3.02212 4.20095ZM2.35003 9.77606C2.50699 9.38366 2.95233 9.1928 3.34473 9.34976L9.18236 11.6848L15.02 9.34976C15.4124 9.1928 15.8577 9.38366 16.0147 9.77606C16.1716 10.1685 15.9808 10.6138 15.5884 10.7708L9.75076 13.1058C9.38588 13.2518 8.97884 13.2518 8.61396 13.1058L2.77633 10.7708C2.38394 10.6138 2.19308 10.1685 2.35003 9.77606ZM3.34473 13.329C2.95233 13.172 2.50699 13.3629 2.35003 13.7553C2.19308 14.1477 2.38394 14.593 2.77633 14.75L8.61396 17.085C8.97884 17.231 9.38588 17.231 9.75076 17.085L15.5884 14.75C15.9808 14.593 16.1716 14.1477 16.0147 13.7553C15.8577 13.3629 15.4124 13.172 15.02 13.329L9.18236 15.664L3.34473 13.329Z" fill="black"></path></svg>
                                                <span>Карты</span>
                                            </NavLinkMenu>
                                            <NavLinkLogout link='#' onClick={logOut}>
                                                <svg width="30" height="30" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.2929 14.2929C16.9024 14.6834 16.9024 15.3166 17.2929 15.7071C17.6834 16.0976 18.3166 16.0976 18.7071 15.7071L21.6201 12.7941C21.6351 12.7791 21.6497 12.7637 21.6637 12.748C21.87 12.5648 22 12.2976 22 12C22 11.7024 21.87 11.4352 21.6637 11.252C21.6497 11.2363 21.6351 11.2209 21.6201 11.2059L18.7071 8.29289C18.3166 7.90237 17.6834 7.90237 17.2929 8.29289C16.9024 8.68342 16.9024 9.31658 17.2929 9.70711L18.5858 11H13C12.4477 11 12 11.4477 12 12C12 12.5523 12.4477 13 13 13H18.5858L17.2929 14.2929Z" fill="#323232" /><path d="M5 2C3.34315 2 2 3.34315 2 5V19C2 20.6569 3.34315 22 5 22H14.5C15.8807 22 17 20.8807 17 19.5V16.7326C16.8519 16.647 16.7125 16.5409 16.5858 16.4142C15.9314 15.7598 15.8253 14.7649 16.2674 14H13C11.8954 14 11 13.1046 11 12C11 10.8954 11.8954 10 13 10H16.2674C15.8253 9.23514 15.9314 8.24015 16.5858 7.58579C16.7125 7.4591 16.8519 7.35296 17 7.26738V4.5C17 3.11929 15.8807 2 14.5 2H5Z" fill="#323232" /></svg>
                                                <span>Выход</span>
                                            </NavLinkLogout>
                                        </ul>)
                                }

                                {user.user.permissions?.role === 'driver' &&
                                    (<ul className="sidebar__navbar-list">
                                        <NavLinkMenu link={'/'}>
                                            <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M8.78353 2.28848C9.02849 2.13878 9.33663 2.13878 9.58159 2.28848L14.9382 5.56196C15.1657 5.70097 15.3044 5.94834 15.3044 6.21492V14.5393C15.3044 14.9619 14.9618 15.3046 14.5392 15.3046H12.2435V10.7132C12.2435 9.44531 11.2157 8.4175 9.94779 8.4175H8.41733C7.14946 8.4175 6.12164 9.44531 6.12164 10.7132V15.3046H3.82596C3.40333 15.3046 3.06073 14.9619 3.06073 14.5393V6.21492C3.06073 5.94834 3.19946 5.70097 3.42693 5.56196L8.78353 2.28848ZM7.6521 15.3046V10.7132C7.6521 10.2906 7.99471 9.94795 8.41733 9.94795H9.94779C10.3704 9.94795 10.713 10.2906 10.713 10.7132V15.3046H7.6521ZM11.4782 16.835H14.5392C15.807 16.835 16.8348 15.8072 16.8348 14.5393V6.21492C16.8348 5.41518 16.4186 4.67307 15.7362 4.25605L10.3796 0.982571C9.64477 0.533479 8.72035 0.533479 7.98547 0.982571L2.62887 4.25605C1.94647 4.67307 1.53027 5.41518 1.53027 6.21492V14.5393C1.53027 15.8072 2.55809 16.835 3.82596 16.835H6.88687H11.4782Z" fill="black"></path></svg>
                                            <span>Главная</span>
                                        </NavLinkMenu>
                                        <NavLinkMenu link='transactions'>
                                            <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M9.46656 3.49889C9.28412 3.42591 9.0806 3.42591 8.89816 3.49888L3.59052 5.62194L8.89816 7.745C9.0806 7.81798 9.28412 7.81798 9.46656 7.745L14.7742 5.62194L9.46656 3.49889ZM3.02212 4.20095L8.32976 2.07789C8.87708 1.85896 9.48764 1.85896 10.035 2.07789L15.3426 4.20095C16.6253 4.71405 16.6253 6.52984 15.3426 7.04294L10.035 9.16599C9.48764 9.38492 8.87708 9.38492 8.32976 9.16599L3.02212 7.04294C1.73937 6.52984 1.73937 4.71405 3.02212 4.20095ZM2.35003 9.77606C2.50699 9.38366 2.95233 9.1928 3.34473 9.34976L9.18236 11.6848L15.02 9.34976C15.4124 9.1928 15.8577 9.38366 16.0147 9.77606C16.1716 10.1685 15.9808 10.6138 15.5884 10.7708L9.75076 13.1058C9.38588 13.2518 8.97884 13.2518 8.61396 13.1058L2.77633 10.7708C2.38394 10.6138 2.19308 10.1685 2.35003 9.77606ZM3.34473 13.329C2.95233 13.172 2.50699 13.3629 2.35003 13.7553C2.19308 14.1477 2.38394 14.593 2.77633 14.75L8.61396 17.085C8.97884 17.231 9.38588 17.231 9.75076 17.085L15.5884 14.75C15.9808 14.593 16.1716 14.1477 16.0147 13.7553C15.8577 13.3629 15.4124 13.172 15.02 13.329L9.18236 15.664L3.34473 13.329Z" fill="black"></path></svg>
                                            <span>Все транзакции</span>
                                        </NavLinkMenu>
                                        {/* <NavLinkMenu link='payment'>
                                        <svg width="19" height="20" viewBox="0 0 19 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M0.765137 2.29694C0.765137 1.87431 1.10774 1.53171 1.53037 1.53171H16.8349C17.2576 1.53171 17.6002 1.87431 17.6002 2.29694C17.6002 2.71956 17.2576 3.06216 16.8349 3.06216H15.3045V14.5406C15.3045 14.7435 15.2239 14.9382 15.0803 15.0817L12.0194 18.1426C11.8759 18.2861 11.6813 18.3667 11.4783 18.3667H3.82605C3.40343 18.3667 3.06082 18.0241 3.06082 17.6015V3.06216H1.53037C1.10774 3.06216 0.765137 2.71956 0.765137 2.29694ZM4.59128 3.06216V16.8363H11.1614L13.774 14.2236V3.06216H4.59128ZM6.12174 7.65354C6.12174 7.23091 6.46434 6.88831 6.88696 6.88831H11.4783C11.901 6.88831 12.2436 7.23091 12.2436 7.65354C12.2436 8.07616 11.901 8.41876 11.4783 8.41876H6.88696C6.46434 8.41876 6.12174 8.07616 6.12174 7.65354ZM6.12174 10.7144C6.12174 10.2918 6.46434 9.94922 6.88696 9.94922H9.18265C9.60528 9.94922 9.94788 10.2918 9.94788 10.7144C9.94788 11.1371 9.60528 11.4797 9.18265 11.4797H6.88696C6.46434 11.4797 6.12174 11.1371 6.12174 10.7144Z" fill="black"></path></svg>
                                        <span>Счет на оплату</span>
                                    </NavLinkMenu> */}
                                        <NavLinkMenu link='cards'>
                                            <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M2.2959 2.44547C2.2959 1.17759 3.32371 0.14978 4.59158 0.14978H13.7743C15.0422 0.14978 16.07 1.17759 16.07 2.44547V13.1587C16.07 13.5813 15.7274 13.9239 15.3048 13.9239H5.35681C4.51156 13.9239 3.82636 14.6091 3.82636 15.4544C3.82636 16.2996 4.51156 16.9848 5.35681 16.9848H15.3048C15.7274 16.9848 16.07 17.3274 16.07 17.75C16.07 18.1727 15.7274 18.5153 15.3048 18.5153H5.35681C3.66632 18.5153 2.2959 17.1448 2.2959 15.4544C2.2959 15.3683 2.29945 15.2831 2.30641 15.1989C2.2995 15.1575 2.2959 15.115 2.2959 15.0717V2.44547ZM14.5396 2.44547C14.5396 2.02284 14.1969 1.68024 13.7743 1.68024H4.59158C4.16896 1.68024 3.82636 2.02284 3.82636 2.44547V12.8029C4.27658 12.5425 4.79929 12.3934 5.35681 12.3934H14.5396V2.44547ZM5.35681 14.6891C4.93419 14.6891 4.59158 15.0317 4.59158 15.4544C4.59158 15.877 4.93419 16.2196 5.35681 16.2196H15.3048C15.7274 16.2196 16.07 15.877 16.07 15.4544C16.07 15.0317 15.7274 14.6891 15.3048 14.6891H5.35681Z" fill="black"></path></svg>
                                            <span>Все карты</span>
                                        </NavLinkMenu>
                                        <NavLinkMenu link='azs'>
                                            <svg width="16" height="19" viewBox="0 0 16 19" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M3.6194 3.85652C4.76746 2.70845 6.32457 2.06348 7.94818 2.06348C9.57179 2.06348 11.1289 2.70845 12.277 3.85652C13.425 5.00458 14.07 6.5617 14.07 8.18531C14.07 10.556 12.5275 12.8565 10.8362 14.6417C10.0062 15.5179 9.17357 16.2351 8.5476 16.7336C8.31464 16.9191 8.11116 17.0736 7.94818 17.194C7.78521 17.0736 7.58173 16.9191 7.34876 16.7336C6.7228 16.2351 5.89019 15.5179 5.06017 14.6417C3.36886 12.8565 1.82636 10.556 1.82636 8.18531C1.82636 6.5617 2.47133 5.00458 3.6194 3.85652ZM7.5233 18.7697C7.52352 18.7699 7.52371 18.77 7.94818 18.1333L7.52371 18.77C7.78075 18.9413 8.11562 18.9413 8.37266 18.77L7.94818 18.1333C8.37266 18.77 8.37285 18.7699 8.37307 18.7697L8.37364 18.7693L8.37526 18.7682L8.38036 18.7648L8.39789 18.753C8.41279 18.7428 8.43405 18.7283 8.46123 18.7095C8.51558 18.6718 8.59368 18.617 8.69215 18.5459C8.889 18.4037 9.16768 18.1962 9.50097 17.9308C10.1663 17.401 11.0555 16.6356 11.9472 15.6943C13.6994 13.8447 15.6005 11.1712 15.6005 8.18531C15.6005 6.15579 14.7942 4.2094 13.3592 2.77432C11.9241 1.33924 9.9777 0.53302 7.94818 0.53302C5.91867 0.53302 3.97228 1.33924 2.5372 2.77432C1.10212 4.2094 0.295898 6.15579 0.295898 8.18531C0.295898 11.1712 2.19693 13.8447 3.94914 15.6943C4.84089 16.6356 5.73004 17.401 6.3954 17.9308C6.72869 18.1962 7.00737 18.4037 7.20422 18.5459C7.30269 18.617 7.38079 18.6718 7.43514 18.7095C7.46232 18.7283 7.48357 18.7428 7.49847 18.753L7.51601 18.7648L7.52111 18.7682L7.52273 18.7693L7.5233 18.7697ZM6.41773 8.18531C6.41773 7.34006 7.10294 6.65485 7.94818 6.65485C8.79343 6.65485 9.47864 7.34006 9.47864 8.18531C9.47864 9.03055 8.79343 9.71576 7.94818 9.71576C7.10294 9.71576 6.41773 9.03055 6.41773 8.18531ZM7.94818 5.12439C6.25769 5.12439 4.88727 6.49481 4.88727 8.18531C4.88727 9.8758 6.25769 11.2462 7.94818 11.2462C9.63868 11.2462 11.0091 9.8758 11.0091 8.18531C11.0091 6.49481 9.63868 5.12439 7.94818 5.12439Z" fill="black"></path></svg>
                                            <span>АЗС станции</span>
                                        </NavLinkMenu>
                                        <NavLinkMenu link='payments'>
                                            <svg width="16" height="20" viewBox="0 0 16 20" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M6.65213 1.29889C5.38426 1.29889 4.35645 2.3267 4.35645 3.59458V6.81746C4.35645 7.6172 4.77264 8.3593 5.45505 8.77633L8.19402 10.4501L5.53725 11.9261C4.80845 12.331 4.35645 13.0992 4.35645 13.9329V16.6035C4.35645 17.8713 5.38426 18.8991 6.65213 18.8991H12.774C14.0418 18.8991 15.0696 17.8713 15.0696 16.6035V13.9329C15.0696 13.0992 14.6176 12.331 13.8888 11.9261L11.2321 10.4501L13.971 8.77633C14.6534 8.3593 15.0696 7.6172 15.0696 6.81746V3.59457C15.0696 2.3267 14.0418 1.29889 12.774 1.29889H6.65213ZM5.8869 3.59458C5.8869 3.17195 6.22951 2.82935 6.65213 2.82935H12.774C13.1966 2.82935 13.5392 3.17195 13.5392 3.59457V6.81746C13.5392 7.08404 13.4005 7.33141 13.173 7.47042L10.1121 9.34097C9.86711 9.49067 9.55898 9.49067 9.31402 9.34097L6.2531 7.47042C6.02563 7.33141 5.8869 7.08404 5.8869 6.81746V3.59458ZM5.8869 16.6035V13.9329C5.8869 13.655 6.03757 13.399 6.2805 13.264L9.34142 11.5635C9.57253 11.4351 9.85356 11.4351 10.0847 11.5635L13.1456 13.264C13.3885 13.399 13.5392 13.655 13.5392 13.9329V16.6035C13.5392 17.0261 13.1966 17.3687 12.774 17.3687H6.65213C6.22951 17.3687 5.8869 17.0261 5.8869 16.6035Z" fill="black"></path></svg>
                                            <span>История операций</span>
                                        </NavLinkMenu>
                                        <NavLinkMenu link='contacts'>
                                            <svg width="16" height="20" viewBox="0 0 16 20" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M6.65213 1.29889C5.38426 1.29889 4.35645 2.3267 4.35645 3.59458V6.81746C4.35645 7.6172 4.77264 8.3593 5.45505 8.77633L8.19402 10.4501L5.53725 11.9261C4.80845 12.331 4.35645 13.0992 4.35645 13.9329V16.6035C4.35645 17.8713 5.38426 18.8991 6.65213 18.8991H12.774C14.0418 18.8991 15.0696 17.8713 15.0696 16.6035V13.9329C15.0696 13.0992 14.6176 12.331 13.8888 11.9261L11.2321 10.4501L13.971 8.77633C14.6534 8.3593 15.0696 7.6172 15.0696 6.81746V3.59457C15.0696 2.3267 14.0418 1.29889 12.774 1.29889H6.65213ZM5.8869 3.59458C5.8869 3.17195 6.22951 2.82935 6.65213 2.82935H12.774C13.1966 2.82935 13.5392 3.17195 13.5392 3.59457V6.81746C13.5392 7.08404 13.4005 7.33141 13.173 7.47042L10.1121 9.34097C9.86711 9.49067 9.55898 9.49067 9.31402 9.34097L6.2531 7.47042C6.02563 7.33141 5.8869 7.08404 5.8869 6.81746V3.59458ZM5.8869 16.6035V13.9329C5.8869 13.655 6.03757 13.399 6.2805 13.264L9.34142 11.5635C9.57253 11.4351 9.85356 11.4351 10.0847 11.5635L13.1456 13.264C13.3885 13.399 13.5392 13.655 13.5392 13.9329V16.6035C13.5392 17.0261 13.1966 17.3687 12.774 17.3687H6.65213C6.22951 17.3687 5.8869 17.0261 5.8869 16.6035Z" fill="black"></path></svg>
                                            <span>Контакты</span>
                                        </NavLinkMenu>
                                        <NavLinkLogout link='#' onClick={logOut}>
                                            <svg width="17" height="18" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M17.2929 14.2929C16.9024 14.6834 16.9024 15.3166 17.2929 15.7071C17.6834 16.0976 18.3166 16.0976 18.7071 15.7071L21.6201 12.7941C21.6351 12.7791 21.6497 12.7637 21.6637 12.748C21.87 12.5648 22 12.2976 22 12C22 11.7024 21.87 11.4352 21.6637 11.252C21.6497 11.2363 21.6351 11.2209 21.6201 11.2059L18.7071 8.29289C18.3166 7.90237 17.6834 7.90237 17.2929 8.29289C16.9024 8.68342 16.9024 9.31658 17.2929 9.70711L18.5858 11H13C12.4477 11 12 11.4477 12 12C12 12.5523 12.4477 13 13 13H18.5858L17.2929 14.2929Z" fill="#323232" /><path d="M5 2C3.34315 2 2 3.34315 2 5V19C2 20.6569 3.34315 22 5 22H14.5C15.8807 22 17 20.8807 17 19.5V16.7326C16.8519 16.647 16.7125 16.5409 16.5858 16.4142C15.9314 15.7598 15.8253 14.7649 16.2674 14H13C11.8954 14 11 13.1046 11 12C11 10.8954 11.8954 10 13 10H16.2674C15.8253 9.23514 15.9314 8.24015 16.5858 7.58579C16.7125 7.4591 16.8519 7.35296 17 7.26738V4.5C17 3.11929 15.8807 2 14.5 2H5Z" fill="#323232" /></svg>
                                            <span>Выход</span>
                                        </NavLinkLogout>
                                    </ul>)}
                            </>
                        }
                    </nav>
                </div>
                <main>
                    <Outlet />
                </main>
            </div>
            : <Outlet />
    );
});

export default Layout;